#----------------------------------------------------------------------------------------------------------------------#
#                                                      common.sh                                                       #
#----------------------------------------------------------------------------------------------------------------------#
# A place to store commonly variable such as constant variables and commonly used functions for bash scripts.

#******************************************************************************#
#                                  Constants                                   #
#******************************************************************************#
# The normal user of this machine.
readonly USERNAME=$(who | head -n 1 | awk '{print $1}')
# The normal user's home directory.
readonly USERHOME=$(grep "$USERNAME" /etc/passwd | awk -F':' '{print $6}')

#******************************************************************************#
#                                  Functions                                   #
#******************************************************************************#
#------------------------------------------------------------------------------#
# echo_bold()                                                                  #
# Simply echos argument 1 as bold.                                             #
#------------------------------------------------------------------------------#
echo_bold() {
  echo -e "\033[1m$1\033[0m"
}

#------------------------------------------------------------------------------#
# fail()                                                                       #
# Argument-$1: Error Message                                                   #
# Argument-$2: Exit Code                                                       #
# This function echo the error message to stderr in bold red and exit with the #
# exit code.                                                                   #
#------------------------------------------------------------------------------#
fail() {
  msg="ERROR: $1 (code $2)"
  echo -e "\033[1;31m$msg\033[0m" 1>&2
  exit $2
}

